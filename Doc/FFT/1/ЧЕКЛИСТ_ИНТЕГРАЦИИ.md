‚úÖ –ß–ï–ö–õ–ò–°–¢ –ò–ù–¢–ï–ì–†–ê–¶–ò–ò - –ù–∞ –†—É—Å—Å–∫–æ–º
–°–ª–µ–¥–∏ —ç—Ç–æ–º—É —á–µ–∫–ª–∏—Å—Ç—É —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏.

–§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (5 –º–∏–Ω—É—Ç)
 –ß–∏—Ç–∞–π –ù–ê–ß–ù–ò_–û–¢–°–Æ–î–ê.md (–æ–±–∑–æ—Ä)

 –ß–∏—Ç–∞–π –ì–û–¢–û–í_–ö_–ö–û–ú–ü–ò–õ–Ø–¶–ò–ò.md (–ø–æ–π–º–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è)

 –°–¥–µ–ª–∞–π —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ antenna_fft_proc_max.cpp

 –û—Ç–∫—Ä–æ–π antenna_fft_proc_max.cpp –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ

 –û—Ç–∫—Ä–æ–π antenna_fft_proc_max_FIXED.cpp –¥–ª—è —Å–ø—Ä–∞–≤–∫–∏

–§–∞–∑–∞ 2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–µ—Ç–æ–¥–∞ #1 - GetPostCallbackSource() (5 –º–∏–Ω—É—Ç)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –û–∫–æ–ª–æ –ª–∏–Ω–∏–∏ 1100 –≤ antenna_fft_proc_max.cpp

 –ù–∞–π–¥–∏ –º–µ—Ç–æ–¥ GetPostCallbackSource()

 –ù–∞–π–¥–∏ –æ–ø–µ—Ä–∞—Ç–æ—Ä –≤–æ–∑–≤—Ä–∞—Ç–∞ OpenCL kernel: return R"(

 –ó–∞–º–µ–Ω–∏ –°–¢–ê–†–´–ô –∫–æ–¥ OpenCL –Ω–∞ –ù–û–í–´–ô –∏–∑ antenna_fft_proc_max_FIXED.cpp

 –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∏–º–µ–µ—Ç: beam_count, nFFT, search_range (–Ω–µ out_count_points_fft), max_peaks_count

 –õ–æ–≥–∏–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç: pos_in_fft < half_search –ò–õ–ò pos_in_fft >= nFFT - half_search

 –†–∞–Ω–Ω–∏–π return –¥–ª—è –Ω–µ–Ω—É–∂–Ω—ã—Ö –ø–æ—Ç–æ–∫–æ–≤: return;

 –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –û–°–¢–ê–í–õ–Ø–ï–¢ –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ –∏ –≤–µ–ª–∏—á–∏–Ω—É:

 complex_buffer[base_idx] = fftoutput;

 magnitude_buffer[base_idx] = length(fftoutput);

–§–∞–∑–∞ 3: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–µ—Ç–æ–¥–∞ #2 - CreateMaxReductionKernel() (10 –º–∏–Ω—É—Ç)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –û–∫–æ–ª–æ –ª–∏–Ω–∏–∏ 1200 –≤ antenna_fft_proc_max.cpp

 –ù–∞–π–¥–∏ –º–µ—Ç–æ–¥ CreateMaxReductionKernel()

 –ù–∞–π–¥–∏ —Å–æ–∑–¥–∞–Ω–∏–µ source string kernel

 –ó–∞–º–µ–Ω–∏ –°–¢–ê–†–´–ô kernel –∫–æ–¥ –Ω–∞ –ù–û–í–´–ô –∏–∑ antenna_fft_proc_max_FIXED.cpp

 –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã kernel: complex_buffer, magnitude_buffer, maxima_buffer, beam_count, search_range, max_peaks_count

 –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤—ã–¥–µ–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏:

 __local MaxValue local_max;

 __local float local_mag;

 __local uint local_idx;

 –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ —Ñ–∞–∑—ã:

 atan2(cval.y, cval.x) –¥–ª—è —Ä–∞–¥–∏–∞–Ω–æ–≤

 –£–º–Ω–æ–∂–∏—Ç—å –Ω–∞ 57.29577951f –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≤ –≥—Ä–∞–¥—É—Å—ã

 –ù–æ—Ä–º–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ñ–∞–∑—É –Ω–∞ [-180, 180] –¥–∏–∞–ø–∞–∑–æ–Ω

 –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç 4 —Ñ–∞–∑—ã:

 –§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

 –§–∞–∑–∞ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –≤–µ–ª–∏—á–∏–Ω—ã

 –§–∞–∑–∞ 3: –ù–∞–π—Ç–∏ top-N

 –§–∞–∑–∞ 4: –ù–∞–ø–∏—Å–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

–§–∞–∑–∞ 4: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ú–µ—Ç–æ–¥–∞ #3 - FindMaximaAllBeamsOnGPU() (10 –º–∏–Ω—É—Ç)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –û–∫–æ–ª–æ –ª–∏–Ω–∏–∏ 1300 –≤ antenna_fft_proc_max.cpp

 –ù–∞–π–¥–∏ –º–µ—Ç–æ–¥ FindMaximaAllBeamsOnGPU()

 –ù–∞–π–¥–∏ —Å—Ç—Ä–æ–∫—É: uint search_range = params_.out_count_points_fft;

 –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏–ª–∏ –ø–æ—Ö–æ–∂–∞

 –ó–∞–º–µ–Ω–∏ –≤–µ—Å—å body –º–µ—Ç–æ–¥–∞ –Ω–∞ –ù–û–í–´–ô –∫–æ–¥ –∏–∑ antenna_fft_proc_max_FIXED.cpp

 –ö–ª—é—á–µ–≤—ã–µ —Ç–æ—á–∫–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏:

 –ò—Å–ø–æ–ª—å–∑—É–µ—Ç search_range = params_.out_count_points_fft

 –í—ã—á–∏—Å–ª—è–µ—Ç —Ä–∞–∑–º–µ—Ä—ã –±—É—Ñ–µ—Ä–æ–≤ –Ω–∞ –æ—Å–Ω–æ–≤–µ search_range:

 post_complex_size = params_.beam_count * search_range * sizeof(cl_float2);

 post_magnitude_size = params_.beam_count * search_range * sizeof(float);

 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã kernel –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ:

 Arg 4: &beam_count

 Arg 5: &search_range_cl

 Arg 6: &max_peaks_count

 –†–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ä–∞–±–æ—Ç—ã –∞–¥–∞–ø—Ç–∏—Ä–æ–≤–∞–Ω –¥–ª—è search_range

–§–∞–∑–∞ 5: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –°—Ç—Ä—É–∫—Ç—É—Ä—ã - CreateOrReuseFFTPlan() (5 –º–∏–Ω—É—Ç)
–†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ: –û–∫–æ–ª–æ –ª–∏–Ω–∏–∏ 920 –≤ antenna_fft_proc_max.cpp

 –ù–∞–π–¥–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: struct PostCallbackUserData { ... };

 –ù–∞–π–¥–∏ –∏–º—è –ø–æ–ª—è: cl_uint out_count_points_fft; (–æ–∫–æ–ª–æ –ª–∏–Ω–∏–∏ 950)

 –ó–∞–º–µ–Ω–∏ –Ω–∞: cl_uint search_range;

 –ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç 4 –ø–æ–ª—è:

 cl_uint beam_count;

 cl_uint nFFT;

 cl_uint search_range; ‚Üê –ò–ó–ú–ï–ù–ï–ù–û

 cl_uint max_peaks_count;

 –ù–∞–π–¥–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å—Ç—Ä—É–∫—Ç—É—Ä—ã: PostCallbackUserData post_cb_params = { ... };

 –ü—Ä–æ–≤–µ—Ä—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é:

cpp
PostCallbackUserData post_cb_params = {
    static_cast(params_.beam_count),
    static_cast(nFFT_),
    static_cast(params_.out_count_points_fft),  // ‚Üê –∑–Ω–∞—á–µ–Ω–∏–µ –æ—Å—Ç–∞–µ—Ç—Å—è —Ç–æ –∂–µ!
    static_cast(params_.max_peaks_count)
};
–§–∞–∑–∞ 6: –ö–æ–º–ø–∏–ª—è—Ü–∏—è (5 –º–∏–Ω—É—Ç)
 –°–æ—Ö—Ä–∞–Ω–∏ –≤—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ antenna_fft_proc_max.cpp

 –ö–æ–º–ø–∏–ª–∏—Ä—É–π –ø—Ä–æ–µ–∫—Ç

 –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏

 –ù–∏–∫–∞–∫–∏—Ö –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π (–∏–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ)

 –£—Å–ø–µ—à–Ω–∞—è –ª–∏–Ω–∫–æ–≤–∫–∞

 –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –ª–∏–Ω–∫–æ–≤–∫–∏

 –í—Å–µ —Å–∏–º–≤–æ–ª—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã

–§–∞–∑–∞ 7: –ë–∞–∑–æ–≤–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10 –º–∏–Ω—É—Ç)
–°–æ–∑–¥–∞–π –ø—Ä–æ—Å—Ç–æ–π —Ç–µ—Å—Ç:

cpp
AntennaFFTParams params(256, 1300000, 60, 5);
AntennaFFTProcMax processor(params);

auto input_data = std::vector(256 * 1300000);
// –ó–∞–ø–æ–ª–Ω–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

auto result = processor.Process(input_data);
 –ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –±–µ–∑ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

 –í—ã–≤–æ–¥ –∏–º–µ–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É:

 result.results.size() == 256 (256 –ª—É—á–µ–π)

 –ö–∞–∂–¥—ã–π –ª—É—á –∏–º–µ–µ—Ç max_values –≤–µ–∫—Ç–æ—Ä

 –ö–∞–∂–¥—ã–π –ª—É—á –∏–º–µ–µ—Ç –¥–æ 5 –º–∞–∫—Å–∏–º—É–º–æ–≤

 –ü—Ä–æ–≤–µ—Ä—å –∑–Ω–∞—á–µ–Ω–∏—è –≤—ã–≤–æ–¥–∞:

 index_point –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [0, 59]

 amplitude –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ –∏ —Ä–∞–∑—É–º–Ω—ã–µ

 phase –∑–Ω–∞—á–µ–Ω–∏—è –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ [-180.0, 180.0] –≥—Ä–∞–¥—É—Å–æ–≤

 –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–∏–µ–º–ª–µ–º–∞—è:

 –û–±—â–µ–µ –≤—Ä–µ–º—è < 500ms

 –í—Ä–µ–º—è post-callback < 100ms

–§–∞–∑–∞ 8: –î–µ—Ç–∞–ª—å–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (20 –º–∏–Ω—É—Ç) - –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û
 –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞–º–∏ –ª—É—á–µ–π

 –ú–∞–ª–µ–Ω—å–∫–∏–π: 8 –ª—É—á–µ–π

 –°—Ä–µ–¥–Ω–∏–π: 64 –ª—É—á–∞

 –ë–æ–ª—å—à–æ–π: 256 –ª—É—á–µ–π

 –¢–µ—Å—Ç —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∏–∞–ø–∞–∑–æ–Ω–∞–º–∏ –ø–æ–∏—Å–∫–∞

 –ú–∞–ª–µ–Ω—å–∫–∏–π: 30 (15+15)

 –°—Ä–µ–¥–Ω–∏–π: 60 (30+30)

 –ë–æ–ª—å—à–æ–π: 120 (60+60)

 –ü—Ä–æ–≤–µ—Ä—å —Ç–æ—á–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞ —Ñ–∞–∑—ã

 –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π –∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–∏–≥–Ω–∞–ª —Ñ–∞–∑—ã

 –°—Ä–∞–≤–Ω–∏ –≤—ã–≤–æ–¥ —Ñ–∞–∑—ã —Å –æ–∂–∏–¥–∞–µ–º—ã–º

–§–∞–∑–∞ 9: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ö–æ–¥–∞ (10 –º–∏–Ω—É—Ç)
 –ï—â–µ —Ä–∞–∑ —á–∏—Ç–∞–π —á–µ—Ä–µ–∑ –¢–í–û–ò –∏–∑–º–µ–Ω–µ–Ω–∏—è

 –ü—Ä–æ–≤–µ—Ä—å –∫–∞–∂–¥–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:

 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #1: –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è post-callback ‚úì

 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #2: Kernel —Ä–µ–¥—É–∫—Ü–∏–∏ ‚úì

 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #3: FindMaximaAllBeamsOnGPU() ‚úì

 –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ #4: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã ‚úì

 –ü—Ä–æ–≤–µ—Ä—å –Ω–∞ –æ–ø–µ—á–∞—Ç–∫–∏ –∏–ª–∏ –Ω–µ—Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

 –£–±–µ–¥–∏—Å—å —á—Ç–æ –Ω–µ—Ç —Å—Ç–∞—Ä–æ–≥–æ –∫–æ–¥–∞ –∫–æ—Ç–æ—Ä—ã–π –æ—Å—Ç–∞–ª—Å—è

–§–∞–∑–∞ 10: –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è (5 –º–∏–Ω—É—Ç)
 –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ: // search_range: –Ω–∞–ø—Ä–∏–º–µ—Ä, 60 = 30 –æ—Ç –Ω–∞—á–∞–ª–∞ + 30 –æ—Ç –∫–æ–Ω—Ü–∞

 –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ GetPostCallbackSource(): // –§–∏–ª—å—Ç—Ä—É–µ—Ç –Ω–∞ search_range —Ç–æ—á–µ–∫ —Ç–æ–ª—å–∫–æ

 –î–æ–±–∞–≤—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ CreateMaxReductionKernel(): // –ù–∞—Ö–æ–¥–∏—Ç top-5 —Å —Ä–∞—Å—á–µ—Ç–æ–º —Ñ–∞–∑—ã

 –û–±–Ω–æ–≤–∏ –ª—é–±—É—é –≤–Ω—É—Ç—Ä–µ–Ω–Ω—é—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

‚úÖ –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê
–ö–∞—á–µ—Å—Ç–≤–æ –ö–æ–¥–∞
 –ù–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π

 –ö–æ–¥ —á–∏—Ç–∞–µ–º—ã–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–π

 –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç –≥–¥–µ –Ω—É–∂–Ω–æ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
 –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –ª—É—á–µ–π

 –ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–∞–∫—Å–∏–º—É–º–æ–≤ –Ω–∞ –ª—É—á (5)

 –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö –≤ –≤—ã–≤–æ–¥–µ

 –ó–Ω–∞—á–µ–Ω–∏—è —Ñ–∞–∑—ã –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ

–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
 –û–±—â–µ–µ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —É–ª—É—á—à–µ–Ω–æ (2-3x)

 Post-callback –Ω–∞–º–Ω–æ–≥–æ –±—ã—Å—Ç—Ä–µ–µ (10-20x)

 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ GPU —Ö–æ—Ä–æ—à–µ–µ (–Ω–µ—Ç contention)

–ü—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å
 –ó–Ω–∞—á–µ–Ω–∏—è –∏–Ω–¥–µ–∫—Å–∞ –∏–º–µ—é—Ç —Å–º—ã—Å–ª

 –ó–Ω–∞—á–µ–Ω–∏—è –∞–º–ø–ª–∏—Ç—É–¥—ã –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ

 –†–∞—Å—á–µ—Ç —Ñ–∞–∑—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π

 –§–æ—Ä–º–∞—Ç –≤—ã–≤–æ–¥–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º

üéâ –£–°–ü–ï–•!
–ï—Å–ª–∏ –≤—Å–µ —á–µ–∫–±–æ–∫—Å—ã –æ—Ç–º–µ—á–µ–Ω—ã, —Ç—ã –≥–æ—Ç–æ–≤!

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é:

‚úÖ –ö–æ–¥ –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è

‚úÖ –ö–æ–¥ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ

‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —É–ª—É—á—à–µ–Ω–∞ 2-3x

‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç

‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤—É! üöÄ

–†–µ—à–µ–Ω–∏–µ –ü—Ä–æ–±–ª–µ–º
–ï—Å–ª–∏ –∫–æ–º–ø–∏–ª—è—Ü–∏—è –Ω–µ —É–¥–∞–µ—Ç—Å—è:

–ü—Ä–æ–≤–µ—Ä—å –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã (4 –ø–æ–ª—è, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞)

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –Ω–µ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å

–ü—Ä–æ–≤–µ—Ä—å –Ω–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Å—Ç—Ä–æ–∫–∞—Ö OpenCL

–ü–æ–∏—â–∏ —Å—Ç–∞—Ä—ã–µ –∏–º–µ–Ω–∞ –º–µ—Ç–æ–¥–æ–≤ –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:

–ü—Ä–æ–≤–µ—Ä—å —Ä–∞—Å—á–µ—Ç—ã —Ä–∞–∑–º–µ—Ä–æ–≤ –±—É—Ñ–µ—Ä–æ–≤

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ –ø–æ—Ä—è–¥–æ–∫ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ kernel —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ post_callback_userdata –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞

–ü–æ–∏—â–∏ dereferences –Ω—É–ª–µ–≤–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è

–ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—ã–≥–ª—è–¥—è—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:

–ü—Ä–æ–≤–µ—Ä—å —Ñ–æ—Ä–º—É–ª—É —Ñ–∞–∑—ã: atan2(Im, Re) * 57.2957795

–ü—Ä–æ–≤–µ—Ä—å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—é —Ñ–∞–∑—ã –Ω–∞ [-180, 180]

–ü—Ä–æ–≤–µ—Ä—å —á—Ç–æ index_point 0-based –≤ search_range

–ü—Ä–æ–≤–µ—Ä—å —Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ª–∏ –º–∞–∫—Å–∏–º—É–º—ã –ø–æ –≤–µ–ª–∏—á–∏–Ω–µ

–ü—Ä–∏–º–µ—Ä–Ω–æ–µ –æ–±—â–µ–µ –≤—Ä–µ–º—è: 45 –º–∏–Ω—É—Ç
–°–ª–æ–∂–Ω–æ—Å—Ç—å: –°—Ä–µ–¥–Ω—è—è (–ø—Ä–æ—Å—Ç–æ –∑–∞–º–µ–Ω–∞ 3-4 –º–µ—Ç–æ–¥–æ–≤)
–†–∏—Å–∫: –û—á–µ–Ω—å –Ω–∏–∑–∫–∏–π (–Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π API)

–ì–æ—Ç–æ–≤? –ù–∞—á–∏–Ω–∞–π! üöÄ