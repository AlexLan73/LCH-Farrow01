# üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è: –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π OpenCLManager

**–í–µ—Ä—Å–∏—è**: 2.0  
**–î–∞—Ç–∞**: 2026-01-10  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

---

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [ARCHITECTURE_ANALYSIS.md](ARCHITECTURE_ANALYSIS.md) - –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ —Ä–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã
2. [API_REFERENCE.md](API_REFERENCE.md) - –ü–æ–ª–Ω—ã–π —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API
3. [CHANGES.md](CHANGES.md) - –û–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
4. [test_unified_manager.hpp](test_unified_manager.hpp) - –¢–µ—Å—Ç—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º GeneratorGPU

---

## üéØ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```cpp
#include "GPU/opencl_manager.h"

int main() {
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –û–î–ò–ù –†–ê–ó
    gpu::OpenCLManager::Initialize(CL_DEVICE_TYPE_GPU);
    
    // –¢–µ–ø–µ—Ä—å –¥–æ—Å—Ç—É–ø–Ω—ã –≤—Å–µ –º–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é
    auto& manager = gpu::OpenCLManager::GetInstance();
    
    return 0;
}
```

### 2. –°–æ–∑–¥–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–∞

```cpp
auto buffer = gpu::OpenCLManager::GetInstance().CreateBuffer(
    1024,  // –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
    gpu::MemoryType::GPU_READ_WRITE
);
```

### 3. –û–±–µ—Ä—Ç–∫–∞ –≤–Ω–µ—à–Ω–µ–≥–æ –±—É—Ñ–µ—Ä–∞

```cpp
cl_mem external_buffer = generator->signal_base();

auto wrapper = gpu::OpenCLManager::GetInstance().WrapExternalBuffer(
    external_buffer,
    1024,
    gpu::MemoryType::GPU_WRITE_ONLY
);
```

### 4. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```cpp
#include "Doc/MemRAII/test_unified_manager.hpp"

int main() {
    test_unified::RunAllTests();
    return 0;
}
```

---

## üîç –ü—Ä–æ–±–ª–µ–º–∞ –∏ —Ä–µ—à–µ–Ω–∏–µ

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ -34 (CL_INVALID_CONTEXT)

**–ü—Ä–∏—á–∏–Ω–∞:**
- `GeneratorGPU` —Å–æ–∑–¥–∞–µ—Ç —Å–≤–æ–π context
- `GPUMemoryManager` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç context –∏–∑ `OpenCLManager`
- Context –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç ‚Üí –æ—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏

**–†–µ—à–µ–Ω–∏–µ:**
- –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ –µ–¥–∏–Ω—ã–π —Å–∏–Ω–≥–ª—Ç–æ–Ω `OpenCLManager`
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è context –ø—Ä–∏ `WrapExternalBuffer()`
- –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

---

## üìù –û—Å–Ω–æ–≤–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –ë–´–õ–û:
- 2 —Å–∏–Ω–≥–ª—Ç–æ–Ω–∞: `OpenCLManager` + `GPUMemoryManager`
- –í–æ–∑–º–æ–∂–Ω–∞ —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è context
- –ù–µ—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–∏ –æ–±–µ—Ä—Ç–∫–µ –≤–Ω–µ—à–Ω–∏—Ö –±—É—Ñ–µ—Ä–æ–≤

### –°–¢–ê–õ–û:
- 1 —Å–∏–Ω–≥–ª—Ç–æ–Ω: `OpenCLManager` (—Å –º–µ—Ç–æ–¥–∞–º–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é)
- –ï–¥–∏–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ context/queue
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è context
- –†–µ–µ—Å—Ç—Ä –±—É—Ñ–µ—Ä–æ–≤ –¥–ª—è –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
Doc/MemRAII/
‚îú‚îÄ‚îÄ README.md                          ‚Üê –í—ã –∑–¥–µ—Å—å
‚îú‚îÄ‚îÄ ARCHITECTURE_ANALYSIS.md          ‚Üê –ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
‚îú‚îÄ‚îÄ API_REFERENCE.md                   ‚Üê –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ API
‚îú‚îÄ‚îÄ CHANGES.md                         ‚Üê –û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
‚îî‚îÄ‚îÄ test_unified_manager.hpp          ‚Üê –¢–µ—Å—Ç—ã —Å GeneratorGPU
```

---

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

1. ‚úÖ **–ï–¥–∏–Ω—ã–π —Å–∏–Ω–≥–ª—Ç–æ–Ω** - –Ω–µ—Ç —Ä–∞—Å—Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
2. ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è** - –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–∫–∏ -34
3. ‚úÖ **–†–µ–µ—Å—Ç—Ä –±—É—Ñ–µ—Ä–æ–≤** - –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–µ–∂–¥—É —Ä–∞—Å—á–µ—Ç–∞–º–∏
4. ‚úÖ **–ü—Ä–æ—â–µ API** - –æ–¥–∏–Ω —Å–∏–Ω–≥–ª—Ç–æ–Ω –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö
5. ‚úÖ **Thread-safe** - –≤—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –∑–∞—â–∏—â–µ–Ω—ã –º—å—é—Ç–µ–∫—Å–∞–º–∏

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–°–º. [test_unified_manager.hpp](test_unified_manager.hpp) –¥–ª—è –ø–æ–ª–Ω–æ–≥–æ –Ω–∞–±–æ—Ä–∞ —Ç–µ—Å—Ç–æ–≤.

**–¢–µ—Å—Ç—ã –≤–∫–ª—é—á–∞—é—Ç:**
- –°–æ–∑–¥–∞–Ω–∏–µ –±—É—Ñ–µ—Ä–æ–≤
- –û–±–µ—Ä—Ç–∫—É –±—É—Ñ–µ—Ä–æ–≤ –æ—Ç GeneratorGPU
- –†–µ–µ—Å—Ç—Ä –±—É—Ñ–µ—Ä–æ–≤
- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –±—É—Ñ–µ—Ä—ã

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **–ê–Ω–∞–ª–∏–∑ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã**: [ARCHITECTURE_ANALYSIS.md](ARCHITECTURE_ANALYSIS.md)
- **API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫**: [API_REFERENCE.md](API_REFERENCE.md)
- **–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π**: [CHANGES.md](CHANGES.md)

---

**–ê–≤—Ç–æ—Ä**: AI Assistant (–ö–æ–¥–æ)  
**–î–∞—Ç–∞**: 2026-01-10

