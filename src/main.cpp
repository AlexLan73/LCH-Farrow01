#include <iostream>
#include <exception>
#include <complex>

#include <CL/cl.h>
#include "GPU/opencl_manager.h"
#include "interface/lfm_parameters.h"

//opencl_manager.cpp 
// lfm_parameters.h —É–∂–µ –≤–∫–ª—é—á–µ–Ω –≤ generator_gpu.h



int main() {
  std::cout << "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n"
            << "GeneratorGPU - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –õ–ß–ú –Ω–∞ GPU\n"
            << "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n\n";
  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è OpenCL
  try {
    gpu::OpenCLManager::Initialize(CL_DEVICE_TYPE_GPU);
    auto& opencl_ = gpu::OpenCLManager::GetInstance();
    
    std::cout << "‚úÖ OpenCL Manager –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω\n";
    std::cout << opencl_.GetDeviceInfo() << "\n";
    
  } catch (const std::exception& e) {
    std::cerr << "‚ùå –û—à–∏–±–∫–∞ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ OpenCL: " << e.what() << std::endl;
    return 1;
  }                

        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 1. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í –õ–ß–ú
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        LFMParameters params;
        params.f_start = 100.0f;           // 100 –ì—Ü
        params.f_stop = 500.0f;            // 500 –ì—Ü
        params.sample_rate = 12.0e6f;      // 12 –ú–ì—Ü
        params.duration = 0.01f;            // 0.1 —Å–µ–∫
        params.num_beams = 256;            // 256 –ª—É—á–µ–π
        params.steering_angle = 30.0f;     // 30 –≥—Ä–∞–¥—É—Å–æ–≤
        
        // –í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å—á—ë—Ç–æ–≤
        size_t num_samples = static_cast<size_t>(params.duration * params.sample_rate);
        
        std::cout << "üìã –ü–ê–†–ê–ú–ï–¢–†–´ –õ–ß–ú –°–ò–ì–ù–ê–õ–ê:\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –Ω–∞—á–∞–ª—å–Ω–∞—è: " << params.f_start << " –ì—Ü\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–Ω–µ—á–Ω–∞—è: " << params.f_stop << " –ì—Ü\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏: " << params.sample_rate / 1e6f << " –ú–ì—Ü\n"
                  << "  ‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: " << params.duration << " —Å–µ–∫\n"
                  << "  ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—É—á–µ–π: " << params.num_beams << "\n"
                  << "  ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å—á—ë—Ç–æ–≤ –Ω–∞ –ª—É—á: " << num_samples << "\n"
                  << "  ‚Ä¢ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: " << params.num_beams * num_samples << "\n"
                  << "  ‚Ä¢ –ü–∞–º—è—Ç—å –Ω–∞ GPU: " << (params.num_beams * num_samples * sizeof(std::complex<float>)) / (1024*1024)
                  << " MB\n\n";


  return 0;
}

/**
  
    
    try {
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 1. –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –ü–ê–†–ê–ú–ï–¢–†–û–í –õ–ß–ú
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        LFMParameters params;
        params.f_start = 100.0f;           // 100 –ì—Ü
        params.f_stop = 500.0f;            // 500 –ì—Ü
        params.sample_rate = 12.0e6f;      // 12 –ú–ì—Ü
        params.duration = 0.01f;            // 0.1 —Å–µ–∫
        params.num_beams = 256;            // 256 –ª—É—á–µ–π
        params.steering_angle = 30.0f;     // 30 –≥—Ä–∞–¥—É—Å–æ–≤
        
        // –í—ã—á–∏—Å–ª–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å—á—ë—Ç–æ–≤
        size_t num_samples = static_cast<size_t>(params.duration * params.sample_rate);
        
        std::cout << "üìã –ü–ê–†–ê–ú–ï–¢–†–´ –õ–ß–ú –°–ò–ì–ù–ê–õ–ê:\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –Ω–∞—á–∞–ª—å–Ω–∞—è: " << params.f_start << " –ì—Ü\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –∫–æ–Ω–µ—á–Ω–∞—è: " << params.f_stop << " –ì—Ü\n"
                  << "  ‚Ä¢ –ß–∞—Å—Ç–æ—Ç–∞ –¥–∏—Å–∫—Ä–µ—Ç–∏–∑–∞—Ü–∏–∏: " << params.sample_rate / 1e6f << " –ú–ì—Ü\n"
                  << "  ‚Ä¢ –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: " << params.duration << " —Å–µ–∫\n"
                  << "  ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—É—á–µ–π: " << params.num_beams << "\n"
                  << "  ‚Ä¢ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Å—á—ë—Ç–æ–≤ –Ω–∞ –ª—É—á: " << num_samples << "\n"
                  << "  ‚Ä¢ –í—Å–µ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤: " << params.num_beams * num_samples << "\n"
                  << "  ‚Ä¢ –ü–∞–º—è—Ç—å –Ω–∞ GPU: " << (params.num_beams * num_samples * sizeof(std::complex<float>)) / (1024*1024)
                  << " MB\n\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 2. –°–û–ó–î–ê–¢–¨ –ì–ï–ù–ï–†–ê–¢–û–† GPU
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "‚öôÔ∏è  –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GPU...\n";
        auto time_start = std::chrono::high_resolution_clock::now();
        
        GeneratorGPU gen(params);
        
        auto time_init = std::chrono::high_resolution_clock::now();
        double init_time = std::chrono::duration<double, std::milli>(time_init - time_start).count();
        std::cout << "‚úì GPU –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞ –∑–∞ " << init_time << " –º—Å\n\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 3. –ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –ë–ê–ó–û–í–´–ô –õ–ß–ú –°–ò–ì–ù–ê–õ
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "üì° –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ë–ê–ó–û–í–û–ì–û –õ–ß–ú —Å–∏–≥–Ω–∞–ª–∞ –Ω–∞ GPU...\n";
        auto time_gen_base = std::chrono::high_resolution_clock::now();
        
        cl_mem signal_base = gen.signal_base();
        
        auto time_gen_base_end = std::chrono::high_resolution_clock::now();
        double gen_base_time = std::chrono::duration<double, std::milli>(time_gen_base_end - time_gen_base).count();
        std::cout << "‚úì signal_base() –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ " << gen_base_time << " –º—Å\n\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 4. –ü–û–î–ì–û–¢–û–í–ò–¢–¨ –ü–ê–†–ê–ú–ï–¢–†–´ –ó–ê–î–ï–†–ñ–ö–ò
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "üìä –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∑–∞–¥–µ—Ä–∂–∫–∏ –¥–ª—è " << params.num_beams << " –ª—É—á–µ–π...\n";
        
        std::vector<DelayParameter> m_delay(params.num_beams);
        for (size_t beam = 0; beam < params.num_beams; ++beam) {
            // –ó–∞–¥–µ—Ä–∂–∫–∞ = —à–∞–≥ 0.5¬∞ * –Ω–æ–º–µ—Ä –ª—É—á–∞
            // –ù–∞–ø—Ä–∏–º–µ—Ä: –ª—É—á 0 ‚Üí 0¬∞, –ª—É—á 1 ‚Üí 0.5¬∞, –ª—É—á 2 ‚Üí 1.0¬∞, ...
            m_delay[beam].beam_index = beam;
            m_delay[beam].delay_degrees = (beam * 0.5f);  // 0, 0.5, 1.0, 1.5, ...
        }
        
        std::cout << "  ‚Ä¢ m_delay[0] = {beam_id: " << m_delay[0].beam_index 
                  << ", delay: " << m_delay[0].delay_degrees << "¬∞}\n"
                  << "  ‚Ä¢ m_delay[128] = {beam_id: " << m_delay[128].beam_index 
                  << ", delay: " << m_delay[128].delay_degrees << "¬∞}\n"
                  << "  ‚Ä¢ m_delay[255] = {beam_id: " << m_delay[255].beam_index 
                  << ", delay: " << m_delay[255].delay_degrees << "¬∞}\n\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 5. –ì–ï–ù–ï–†–ò–†–û–í–ê–¢–¨ –õ–ß–ú –° –î–†–û–ë–ù–û–ô –ó–ê–î–ï–†–ñ–ö–û–ô
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "üì° –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –õ–ß–ú —Å –î–†–û–ë–ù–û–ô –ó–ê–î–ï–†–ñ–ö–û–ô –Ω–∞ GPU...\n";
        auto time_gen_delayed = std::chrono::high_resolution_clock::now();
        
        cl_mem signal_delayed = gen.signal_valedation(m_delay.data(), m_delay.size());
        
        auto time_gen_delayed_end = std::chrono::high_resolution_clock::now();
        double gen_delayed_time = std::chrono::duration<double, std::milli>(time_gen_delayed_end - time_gen_delayed).count();
        std::cout << "‚úì signal_valedation() –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∑–∞ " << gen_delayed_time << " –º—Å\n\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 6. –¢–†–ê–ù–°–§–ï–† –î–ê–ù–ù–´–• GPU ‚Üí CPU (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "üì§ –¢—Ä–∞–Ω—Å—Ñ–µ—Ä –¥–∞–Ω–Ω—ã—Ö GPU ‚Üí CPU (–ø–µ—Ä–≤—ã–π –ª—É—á, –ø–µ—Ä–≤—ã–µ 10 –æ—Ç—Å—á—ë—Ç–æ–≤)...\n";
        
        size_t read_samples = std::min(size_t(10), num_samples);  // –ü—Ä–æ—á–∏—Ç–∞—Ç—å –ø–µ—Ä–≤—ã–µ 10
        std::vector<std::complex<float>> cpu_data(read_samples);
        
        cl_int err = clEnqueueReadBuffer(
            gen.GetQueue(),
            signal_base,
            CL_TRUE,  // Blocking read
            0,        // Offset
            read_samples * sizeof(std::complex<float>),
            cpu_data.data(),
            0, nullptr, nullptr
        );
        
        if (err == CL_SUCCESS) {
            std::cout << "  ‚úì –ü–µ—Ä–≤—ã–π –ª—É—á, –ø–µ—Ä–≤—ã–µ " << read_samples << " –æ—Ç—Å—á—ë—Ç–æ–≤ signal_base:\n";
            for (size_t i = 0; i < read_samples; ++i) {
                std::cout << "    [" << i << "] = " << cpu_data[i].real() 
                          << " + " << cpu_data[i].imag() << "j\n";
            }
        } else {
            std::cout << "  ‚ö†Ô∏è  –û—à–∏–±–∫–∞ –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ –∏–∑ GPU (–∫–æ–¥: " << err << ")\n";
        }
        std::cout << "\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 7. –ò–¢–û–ì–û–í–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        auto time_end = std::chrono::high_resolution_clock::now();
        double total_time = std::chrono::duration<double, std::milli>(time_end - time_start).count();
        
        std::cout << "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n"
                  << "‚úÖ –£–°–ü–ï–®–ù–û –ó–ê–í–ï–†–®–ï–ù–û\n"
                  << "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê\n"
                  << "‚è±Ô∏è  –í–†–ï–ú–Ø –í–´–ü–û–õ–ù–ï–ù–ò–Ø:\n"
                  << "  ‚Ä¢ –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è GPU: " << init_time << " –º—Å\n"
                  << "  ‚Ä¢ signal_base(): " << gen_base_time << " –º—Å\n"
                  << "  ‚Ä¢ signal_valedation(): " << gen_delayed_time << " –º—Å\n"
                  << "  ‚Ä¢ –ò–¢–û–ì–û: " << total_time << " –º—Å\n\n"
                  << "üìä –ü–†–û–ü–£–°–ö–ù–ê–Ø –°–ü–û–°–û–ë–ù–û–°–¢–¨ GPU:\n"
                  << "  ‚Ä¢ signal_base(): " 
                  << (params.num_beams * num_samples / (gen_base_time / 1000.0) / 1e9) << " –ì–≤—ã–±/—Å–µ–∫\n"
                  << "  ‚Ä¢ signal_valedation(): " 
                  << (params.num_beams * num_samples / (gen_delayed_time / 1000.0) / 1e9) << " –ì–≤—ã–±/—Å–µ–∫\n";
        
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        // 8. –û–ß–ò–°–¢–ö–ê (–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ò –≤ –¥–µ—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ ~GeneratorGPU)
        // ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
        
        std::cout << "üßπ –û—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ GPU —Ä–µ—Å—É—Ä—Å–æ–≤...\n";
        // signal_base –∏ signal_delayed –±—É–¥—É—Ç –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
        // –∫–æ–≥–¥–∞ –≤—ã–π–¥—É—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ (RAII)
        
        std::cout << "‚úì –ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!\n";
        
    } catch (const std::exception& e) {
        std::cerr << "‚ùå –û–®–ò–ë–ö–ê: " << e.what() << std::endl;
        return 1;
    }
  
  
 */